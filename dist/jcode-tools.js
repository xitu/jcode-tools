(()=>{typeof BigInt=="function"&&!BigInt.prototype.toJSON&&(BigInt.prototype.toJSON=function(){return`${this}n`});window.JCode=window.JCode||{};function E(n,t,i,u){n[t]=n[t]||[],n[t][u]=i}function S(n){let t={};if(n){let i=0,u=Object.keys(n).every(d=>d===Number(d).toString());for(let[d,r]of Object.entries(n))if(typeof r!="function"){if(E(t,"(index)",u?Number(d):d,i),r==null||typeof r!="object"||r instanceof RegExp)E(t,"Value",r,i);else for(let[c,a]of Object.entries(r))E(t,c,a,i);i++}return t}return n}function T(n,t){let i=n["(index)"].length;if(i){let u=document.createElement("table"),d=document.createElement("thead");u.appendChild(d),u.className="jcode-logger__table";let r=Object.keys(n);t&&(r=r.filter(o=>o==="(index)"||o==="Value"||t.includes(o)));let c=document.createElement("tr");c.innerHTML=r.map((o,e)=>`<th data-index="${e}">${o}</th>`).join(""),d.appendChild(c);let a=document.createElement("tbody");u.appendChild(a);for(let o=0;o<i;o++){let e=document.createElement("tr");a.appendChild(e);for(let s=0;s<r.length;s++){let l=r[s],f=document.createElement("td");if(o in n[l]){let p=n[l][o];typeof p=="string"&&l!=="(index)"&&(p=`'${p}'`),Array.isArray(p)?p.length>3&&(f.textContent=`${p.slice(0,3)}... (total: ${p.length})`):typeof p=="bigint"?f.textContent=`${p}n`:typeof p=="symbol"?f.textContent=p.toString():f.textContent=p,f.className=N(p).toLowerCase()}e.appendChild(f)}}return u}}function h(n){return Object.prototype.toString.call(n)==="[object Object]"?JSON.stringify(n):n}function w(n){let t=h(n[0]),i=[],u=/%[cdfios]/,d=0;for(let r=1;r<n.length;r++){let c=h(n[r]);if(u.test(t))t=t.replace(u,a=>{if(a==="%c"){let o=`${d?"</span>":""}<span style="${c}">`;return d++,o}if(a==="%d"||a==="%i")return parseInt(c,10);if(a==="%f")return parseFloat(c);if(a==="%s")return c.toString();if(a==="%o")return JSON.stringify(c)});else{i.push(...n.slice(r).map(h));break}}return i=[t,...i],d&&i.push("</span>"),i}function N(n){return Object.prototype.toString.call(n).slice(8,-1)}function L(n,t=0){let i=document.createElement("ul");i.className="jcode-logger__dir";let u=N(n),d=document.createElement("div");d.textContent=n instanceof HTMLElement?n.tagName.toLowerCase():u,d.addEventListener("click",()=>{d.classList.toggle("expand")}),i.appendChild(d);let r=[];for(let c in n)typeof n[c]!="function"&&r.push([c,n[c]]);Array.isArray(n)&&r.push(["length",n.length]),r.sort((c,a)=>c[0]>a[0]?1:c[0]<a[0]?-1:0);for(let c=0;c<r.length;c++){let[a,o]=r[c];typeof o=="string"&&(o=`"${o}"`);let e=document.createElement("li"),s=document.createElement("em");s.textContent=a;let l=document.createElement("span");if(l.className=N(o).toLowerCase(),Array.isArray(o)&&o.length<=0?l.textContent="Array(0)":o instanceof NodeList?l.textContent=`NodeList(${o.length})`:o instanceof HTMLCollection?l.textContent=`HTMLCollection(${o.length})`:o instanceof DOMTokenList?l.textContent=`DOMTokenList(${o.length})`:o instanceof HTMLElement?l.textContent=`${o.tagName.toLowerCase()}${o.id?`#${o.id}`:""}`:l.textContent=o,t<2&&o&&typeof o=="object"&&!(o instanceof Window)){let f=L(o,t+1);f.children[0].innerHTML="",f.children[0].appendChild(s),f.children[0].appendChild(l),e.appendChild(f)}else e.appendChild(s),e.appendChild(l);i.appendChild(e)}return i}var M={log:console.log,info:console.info,warn:console.warn,error:console.error,dir:console.dir,table:console.table,group:console.group,groupCollapsed:console.groupCollapsed,groupEnd:console.groupEnd,count:console.count,countReset:console.countReset,time:console.time,timeEnd:console.timeEnd,assert:console.assert,clear:console.clear};JCode.logger=(n,t=M)=>{let i=document.createElement("div");i.className="jcode-logger",n.append(i);let u=(e,s="info")=>{let l=document.createElement("pre");l.className=`jcode-logger__${s}`,l.innerHTML=e,i.appendChild(l)},d=e=>(...s)=>{t&&t[e](...s),s=w(s);let l=s.join(" ");u(l,e)},r=[],c=(e,s=!1)=>{let l=document.createElement("div");l.className="jcode-logger__group",i.appendChild(l);let f=document.createElement("div");f.textContent=e,s||(f.className="expand"),l.appendChild(f),f.addEventListener("click",()=>{f.classList.toggle("expand")}),r.push(i),i=l},a={},o={};return{log:d("log"),info:d("info"),warn:d("warn"),error:d("error"),assert:(e,...s)=>{if(t&&t.assert(e,...s),!e){let l=w(s).join(" ");u(`Assertion failed: ${l}`,"error")}},clear:()=>{t&&t.clear(),r.length>0&&(i=r[0],r.length=0),i.innerHTML=""},group:e=>{t&&t.group(e),c(e)},groupCollapsed:e=>{t&&t.groupCollapsed(e),c(e,!0)},groupEnd:()=>{t&&t.groupEnd(),r.length>0&&(i=r.pop())},count:(e="default")=>{t&&t.count(e),e=e.toString(),a[e]=a[e]||0,a[e]++,u(`${e}: ${a[e]}`)},time:(e="default")=>{t&&t.time(e),e=e.toString(),e in o?u(`Timer '${e}' already exists`,"warn"):o[e]=performance.now()},countReset:(e="default")=>{t&&t.countReset(e),e=e.toString(),e in a?delete a[e]:u(`Count for '${e}' does not exist`,"warn")},timeEnd:(e="default")=>{t&&t.timeEnd(e),e=e.toString(),e in o?(u(`${e}: ${performance.now()-o[e]} ms`),delete o[e]):u(`Timer '${e}' does not exist`,"warn")},dir:e=>{t&&t.dir(e);let s=L(e);i.appendChild(s)},table:(e,s)=>{t&&t.table(e,s);let l=S(e),f=T(l,s);f.addEventListener("click",p=>{let m=p.target;if(m.tagName==="TH"){let b=Number(m.dataset.index),$=[...f.querySelectorAll("tr")].slice(1);$.sort((g,x)=>{g=g.children[b],x=x.children[b];let C=g.textContent,y=x.textContent;return g.className==="number"&&(C=Number(C)),x.className==="number"&&(y=Number(y)),g.className==="bigint"&&(C=BigInt(C.slice(0,-1))),x.className==="bigint"&&(y=BigInt(y.slice(0,-1))),C>y?m.dataset.sort==="asc"?-1:1:C<y?m.dataset.sort==="asc"?1:-1:0}),$.forEach(g=>{f.appendChild(g)}),m.dataset.sort=m.dataset.sort==="asc"?"desc":"asc"}}),i.appendChild(f)}}};JCode.getCustomCode=async()=>{let n;do{if(n=document.querySelector("body>script:last-of-type"),n&&/^text\/.*/.test(n.type))return n.textContent;await new Promise(t=>setTimeout(t,50))}while(1)};})();
