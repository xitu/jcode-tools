(()=>{typeof BigInt=="function"&&!BigInt.prototype.toJSON&&(BigInt.prototype.toJSON=function(){return`${this}n`});window.JCode=window.JCode||{};function b(e,t,r,l){e[t]=e[t]||[],e[t][l]=r}function y(e){let t={};if(e){let r=0;for(let[l,i]of Object.entries(e))if(typeof i!="function"){if(b(t,"(index)",l,r),typeof i!="object"||i instanceof RegExp)b(t,"Value",i,r);else for(let[o,f]of Object.entries(i))t[o]=t[o]||[],t[o][r]=f;r++}return t}return e}function h(e,t){let r=e["(index)"].length;if(r){let l=document.createElement("table"),i=document.createElement("thead");l.appendChild(i),l.className="jcode-logger__table";let o=Object.keys(e);t&&(o=o.filter(s=>s==="(index)"||s==="Value"||t.includes(s)));let f=document.createElement("tr");f.innerHTML=o.map((s,d)=>`<th data-index="${d}">${s}</th>`).join(""),i.appendChild(f);let a=document.createElement("tbody");l.appendChild(a);for(let s=0;s<r;s++){let d=document.createElement("tr");a.appendChild(d);for(let u=0;u<o.length;u++){let m=o[u],c=document.createElement("td");if(s in e[m]){let n=e[m][s];typeof n=="string"&&m!=="(index)"&&(n=`'${n}'`),Array.isArray(n)?n.length>3&&(c.innerHTML=`${n.slice(0,3)}... (total: ${n.length})`):typeof n=="bigint"?c.innerHTML=`${n}n`:typeof n=="symbol"?c.innerHTML=n.toString():c.innerHTML=n,c.className=Object.prototype.toString.call(n).slice(8,-1).toLowerCase()}d.appendChild(c)}}return l}}JCode.getCustomCode=async()=>{let e;do{if(e=document.querySelector("body>script:last-of-type"),e&&/^text\/.*/.test(e.type))return e.textContent;await new Promise(t=>setTimeout(t,50))}while(1)};var C={log:console.log,warn:console.warn,error:console.error,table:console.table};JCode.logger=(e,t=C)=>{let r=document.createElement("div");r.className="jcode-logger",e.append(r);let l=i=>(...o)=>{t&&t[i](...o);let f=o.join(" "),a=document.createElement("pre");a.className=`jcode-logger__${i}`,a.textContent=f,r.appendChild(a)};return{log:l("log"),warn:l("warn"),error:l("error"),table:(i,o)=>{t.table(i,o);let f=y(i),a=h(f,o);a.addEventListener("click",s=>{let d=s.target;if(d.tagName==="TH"){let u=Number(d.dataset.index),m=[...a.querySelectorAll("tr")].slice(1);m.sort((c,n)=>{c=c.children[u],n=n.children[u];let p=c.textContent,g=n.textContent;return c.className==="number"&&(p=Number(p)),n.className==="number"&&(g=Number(g)),c.className==="bigint"&&(p=BigInt(p.slice(0,-1))),n.className==="bigint"&&(g=BigInt(g.slice(0,-1))),p>g?d.dataset.sort==="asc"?-1:1:p<g?d.dataset.sort==="asc"?1:-1:0}),m.forEach(c=>{a.appendChild(c)}),d.dataset.sort=d.dataset.sort==="asc"?"desc":"asc"}}),r.appendChild(a)}}};})();
