(()=>{typeof BigInt=="function"&&!BigInt.prototype.toJSON&&(BigInt.prototype.toJSON=function(){return`${this}n`});window.JCode=window.JCode||{};function b(e,t,r,s){e[t]=e[t]||[],e[t][s]=r}function y(e){let t={};if(e){let r=0,s=Object.keys(e).every(i=>i===Number(i).toString());for(let[i,o]of Object.entries(e))if(typeof o!="function"){if(b(t,"(index)",s?Number(i):i,r),typeof o!="object"||o instanceof RegExp)b(t,"Value",o,r);else for(let[f,l]of Object.entries(o))t[f]=t[f]||[],t[f][r]=l;r++}return t}return e}function h(e,t){let r=e["(index)"].length;if(r){let s=document.createElement("table"),i=document.createElement("thead");s.appendChild(i),s.className="jcode-logger__table";let o=Object.keys(e);t&&(o=o.filter(a=>a==="(index)"||a==="Value"||t.includes(a)));let f=document.createElement("tr");f.innerHTML=o.map((a,d)=>`<th data-index="${d}">${a}</th>`).join(""),i.appendChild(f);let l=document.createElement("tbody");s.appendChild(l);for(let a=0;a<r;a++){let d=document.createElement("tr");l.appendChild(d);for(let u=0;u<o.length;u++){let m=o[u],c=document.createElement("td");if(a in e[m]){let n=e[m][a];typeof n=="string"&&m!=="(index)"&&(n=`'${n}'`),Array.isArray(n)?n.length>3&&(c.innerHTML=`${n.slice(0,3)}... (total: ${n.length})`):typeof n=="bigint"?c.innerHTML=`${n}n`:typeof n=="symbol"?c.innerHTML=n.toString():c.innerHTML=n,c.className=Object.prototype.toString.call(n).slice(8,-1).toLowerCase()}d.appendChild(c)}}return s}}JCode.getCustomCode=async()=>{let e;do{if(e=document.querySelector("body>script:last-of-type"),e&&/^text\/.*/.test(e.type))return e.textContent;await new Promise(t=>setTimeout(t,50))}while(1)};var C={log:console.log,warn:console.warn,error:console.error,table:console.table};JCode.logger=(e,t=C)=>{let r=document.createElement("div");r.className="jcode-logger",e.append(r);let s=i=>(...o)=>{t&&t[i](...o);let f=o.join(" "),l=document.createElement("pre");l.className=`jcode-logger__${i}`,l.textContent=f,r.appendChild(l)};return{log:s("log"),warn:s("warn"),error:s("error"),table:(i,o)=>{t.table(i,o);let f=y(i),l=h(f,o);l.addEventListener("click",a=>{let d=a.target;if(d.tagName==="TH"){let u=Number(d.dataset.index),m=[...l.querySelectorAll("tr")].slice(1);m.sort((c,n)=>{c=c.children[u],n=n.children[u];let g=c.textContent,p=n.textContent;return c.className==="number"&&(g=Number(g)),n.className==="number"&&(p=Number(p)),c.className==="bigint"&&(g=BigInt(g.slice(0,-1))),n.className==="bigint"&&(p=BigInt(p.slice(0,-1))),g>p?d.dataset.sort==="asc"?-1:1:g<p?d.dataset.sort==="asc"?1:-1:0}),m.forEach(c=>{l.appendChild(c)}),d.dataset.sort=d.dataset.sort==="asc"?"desc":"asc"}}),r.appendChild(l)}}};})();
