(()=>{typeof BigInt=="function"&&!BigInt.prototype.toJSON&&(BigInt.prototype.toJSON=function(){return`${this}n`});window.JCode=window.JCode||{};function y(e,t,r,i){e[t]=e[t]||[],e[t][i]=r}function b(e){let t={};if(e){let r=0;for(let[i,c]of Object.entries(e))if(typeof c!="function"){if(y(t,"(index)",i,r),typeof c!="object"||c instanceof RegExp)y(t,"Value",c,r);else for(let[n,f]of Object.entries(c))t[n]=t[n]||[],t[n][r]=f;r++}return t}return e}function h(e,t){let r=e["(index)"].length;if(r){let i=document.createElement("table"),c=document.createElement("thead");i.appendChild(c),i.className="jcode-logger__table";let n=Object.keys(e);t&&(n=n.filter(l=>l==="(index)"||l==="Value"||t.includes(l)));let f=document.createElement("tr");f.innerHTML=n.map((l,a)=>`<th data-index="${a}">${l}</th>`).join(""),c.appendChild(f);let s=document.createElement("tbody");i.appendChild(s);for(let l=0;l<r;l++){let a=document.createElement("tr");s.appendChild(a);for(let u=0;u<n.length;u++){let p=n[u],d=document.createElement("td");if(l in e[p]){let o=e[p][l];typeof o=="string"&&p!=="(index)"&&(o=`'${o}'`),Array.isArray(o)?o.length>3&&(d.innerHTML=`${o.slice(0,3)}... (total: ${o.length})`):typeof o=="bigint"?d.innerHTML=`${o}n`:typeof o=="symbol"?d.innerHTML=o.toString():d.innerHTML=o,p!=="(index)"&&(d.className=Object.prototype.toString.call(o).slice(8,-1).toLowerCase())}a.appendChild(d)}}return i}}JCode.getCustomCode=async()=>{let e;do{if(e=document.querySelector("body>script:last-of-type"),e&&/^text\/.*/.test(e.type))return e.textContent;await new Promise(t=>setTimeout(t,50))}while(1)};var C={log:console.log,warn:console.warn,error:console.error,table:console.table};JCode.logger=(e,t=C)=>{let r=document.createElement("div");r.className="jcode-logger",e.append(r);let i=c=>(...n)=>{t&&t[c](...n);let f=n.join(" "),s=document.createElement("pre");s.className=`jcode-logger__${c}`,s.textContent=f,r.appendChild(s)};return{log:i("log"),warn:i("warn"),error:i("error"),table:(c,n)=>{t.table(c,n);let f=b(c),s=h(f,n);s.addEventListener("click",l=>{let a=l.target;if(a.tagName==="TH"){let u=Number(a.dataset.index),p=[...s.querySelectorAll("tr")].slice(1);p.sort((d,o)=>{let g=d.children[u].textContent,m=o.children[u].textContent;return g>m?a.dataset.sort==="asc"?-1:1:g<m?a.dataset.sort==="asc"?1:-1:0}),p.forEach(d=>{s.appendChild(d)}),a.dataset.sort=a.dataset.sort==="asc"?"desc":"asc"}}),r.appendChild(s)}}};})();
