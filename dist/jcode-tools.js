(()=>{typeof BigInt=="function"&&!BigInt.prototype.toJSON&&(BigInt.prototype.toJSON=function(){return`${this}n`});window.JCode=window.JCode||{};function b(e,n,o,l){e[n]=e[n]||[],e[n][l]=o}function h(e){let n={};if(e){let o=0,l=Object.keys(e).every(c=>c===Number(c).toString());for(let[c,t]of Object.entries(e))if(typeof t!="function"){if(b(n,"(index)",l?Number(c):c,o),typeof t!="object"||t instanceof RegExp)b(n,"Value",t,o);else for(let[s,r]of Object.entries(t))b(n,s,r,o);o++}return n}return e}function C(e,n){let o=e["(index)"].length;if(o){let l=document.createElement("table"),c=document.createElement("thead");l.appendChild(c),l.className="jcode-logger__table";let t=Object.keys(e);n&&(t=t.filter(a=>a==="(index)"||a==="Value"||n.includes(a)));let s=document.createElement("tr");s.innerHTML=t.map((a,u)=>`<th data-index="${u}">${a}</th>`).join(""),c.appendChild(s);let r=document.createElement("tbody");l.appendChild(r);for(let a=0;a<o;a++){let u=document.createElement("tr");r.appendChild(u);for(let f=0;f<t.length;f++){let p=t[f],d=document.createElement("td");if(a in e[p]){let i=e[p][a];typeof i=="string"&&p!=="(index)"&&(i=`'${i}'`),Array.isArray(i)?i.length>3&&(d.innerHTML=`${i.slice(0,3)}... (total: ${i.length})`):typeof i=="bigint"?d.innerHTML=`${i}n`:typeof i=="symbol"?d.innerHTML=i.toString():d.innerHTML=i,d.className=Object.prototype.toString.call(i).slice(8,-1).toLowerCase()}u.appendChild(d)}}return l}}function y(e){return Object.prototype.toString.call(e)==="[object Object]"?JSON.stringify(e):e}function N(e){let n=y(e[0]),o=[],l=/%[cdfios]/,c=0;for(let t=1;t<e.length;t++){let s=y(e[t]);if(l.test(n))n=n.replace(l,r=>{if(r==="%c"){let a=`${c?"</span>":""}<span style="${s}">`;return c++,a}if(r==="%d"||r==="%i")return parseInt(s,10);if(r==="%f")return parseFloat(s);if(r==="%s")return s.toString();if(r==="%o")return JSON.stringify(s)});else{o.push(...e.slice(t).map(y));break}}return o=[n,...o],c&&o.push("</span>"),o}var j={log:console.log,warn:console.warn,error:console.error,table:console.table};JCode.logger=(e,n=j)=>{let o=document.createElement("div");o.className="jcode-logger",e.append(o);let l=c=>(...t)=>{n&&n[c](...t),t=N(t);let s=t.join(" "),r=document.createElement("pre");r.className=`jcode-logger__${c}`,r.innerHTML=s,o.appendChild(r)};return{log:l("log"),warn:l("warn"),error:l("error"),table:(c,t)=>{n.table(c,t);let s=h(c),r=C(s,t);r.addEventListener("click",a=>{let u=a.target;if(u.tagName==="TH"){let f=Number(u.dataset.index),p=[...r.querySelectorAll("tr")].slice(1);p.sort((d,i)=>{d=d.children[f],i=i.children[f];let m=d.textContent,g=i.textContent;return d.className==="number"&&(m=Number(m)),i.className==="number"&&(g=Number(g)),d.className==="bigint"&&(m=BigInt(m.slice(0,-1))),i.className==="bigint"&&(g=BigInt(g.slice(0,-1))),m>g?u.dataset.sort==="asc"?-1:1:m<g?u.dataset.sort==="asc"?1:-1:0}),p.forEach(d=>{r.appendChild(d)}),u.dataset.sort=u.dataset.sort==="asc"?"desc":"asc"}}),o.appendChild(r)}}};JCode.getCustomCode=async()=>{let e;do{if(e=document.querySelector("body>script:last-of-type"),e&&/^text\/.*/.test(e.type))return e.textContent;await new Promise(n=>setTimeout(n,50))}while(1)};})();
