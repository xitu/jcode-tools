(()=>{typeof BigInt=="function"&&!BigInt.prototype.toJSON&&(BigInt.prototype.toJSON=function(){return`${this}n`});window.JCode=window.JCode||{};function E(n,t,i,c){n[t]=n[t]||[],n[t][c]=i}function h(n){let t={};if(n){let i=0,c=Object.keys(n).every(s=>s===Number(s).toString());for(let[s,r]of Object.entries(n))if(typeof r!="function"){if(E(t,"(index)",c?Number(s):s,i),r==null||typeof r!="object"||r instanceof RegExp)E(t,"Value",r,i);else for(let[d,o]of Object.entries(r))E(t,d,o,i);i++}return t}return n}function S(n,t){let i=n["(index)"].length;if(i){let c=document.createElement("table"),s=document.createElement("thead");c.appendChild(s),c.className="jcode-logger__table";let r=Object.keys(n);t&&(r=r.filter(a=>a==="(index)"||a==="Value"||t.includes(a)));let d=document.createElement("tr");d.innerHTML=r.map((a,e)=>`<th data-index="${e}">${a}</th>`).join(""),s.appendChild(d);let o=document.createElement("tbody");c.appendChild(o);for(let a=0;a<i;a++){let e=document.createElement("tr");o.appendChild(e);for(let l=0;l<r.length;l++){let f=r[l],u=document.createElement("td");if(a in n[f]){let p=n[f][a];typeof p=="string"&&f!=="(index)"&&(p=`'${p}'`),Array.isArray(p)?p.length>3&&(u.textContent=`${p.slice(0,3)}... (total: ${p.length})`):typeof p=="bigint"?u.textContent=`${p}n`:typeof p=="symbol"?u.textContent=p.toString():u.textContent=p,u.className=b(p).toLowerCase()}e.appendChild(u)}}return c}}function N(n){return Object.prototype.toString.call(n)==="[object Object]"?JSON.stringify(n):n}function L(n){let t=N(n[0]),i=[],c=/%[cdfios]/,s=0;for(let r=1;r<n.length;r++){let d=N(n[r]);if(c.test(t))t=t.replace(c,o=>{if(o==="%c"){let a=`${s?"</span>":""}<span style="${d}">`;return s++,a}if(o==="%d"||o==="%i")return parseInt(d,10);if(o==="%f")return parseFloat(d);if(o==="%s")return d.toString();if(o==="%o")return JSON.stringify(d)});else{i.push(...n.slice(r).map(N));break}}return i=[t,...i],s&&i.push("</span>"),i}function b(n){return Object.prototype.toString.call(n).slice(8,-1)}function T(n){let t=document.createElement("ul");t.className="jcode-logger__dir";let i=b(n),c=document.createElement("div");c.textContent=n instanceof HTMLElement?n.tagName.toLowerCase():i,c.addEventListener("click",()=>{c.classList.toggle("expand")}),t.appendChild(c);let s=[];for(let r in n)typeof n[r]!="function"&&s.push([r,n[r]]);s.sort((r,d)=>r[0]>d[0]?1:r[0]<d[0]?-1:0);for(let r=0;r<s.length;r++){let[d,o]=s[r];typeof o=="string"&&(o=`"${o}"`);let a=document.createElement("li"),e=document.createElement("em");e.textContent=d,a.appendChild(e);let l=document.createElement("span");Array.isArray(o)&&o.length<=0?l.textContent="Array(0)":o instanceof NodeList?l.textContent=`NodeList(${o.length})`:o instanceof HTMLCollection?l.textContent=`HTMLCollection(${o.length})`:o instanceof DOMTokenList?l.textContent=`DOMTokenList(${o.length})`:o instanceof HTMLElement?l.textContent=`${o.tagName.toLowerCase()}${o.id?`#${o.id}`:""}`:l.textContent=o,l.className=b(o).toLowerCase(),a.appendChild(l),t.appendChild(a)}return t}var v={log:console.log,info:console.info,warn:console.warn,error:console.error,dir:console.dir,table:console.table,group:console.group,groupCollapsed:console.groupCollapsed,groupEnd:console.groupEnd,count:console.count,countReset:console.countReset,time:console.time,timeEnd:console.timeEnd,assert:console.assert,clear:console.clear};JCode.logger=(n,t=v)=>{let i=document.createElement("div");i.className="jcode-logger",n.append(i);let c=(e,l="info")=>{let f=document.createElement("pre");f.className=`jcode-logger__${l}`,f.innerHTML=e,i.appendChild(f)},s=e=>(...l)=>{t&&t[e](...l),l=L(l);let f=l.join(" ");c(f,e)},r=[],d=(e,l=!1)=>{let f=document.createElement("div");f.className="jcode-logger__group",i.appendChild(f);let u=document.createElement("div");u.textContent=e,l||(u.className="expand"),f.appendChild(u),u.addEventListener("click",()=>{u.classList.toggle("expand")}),r.push(i),i=f},o={},a={};return t.groupEnd&&t.groupEnd(),{log:s("log"),info:s("info"),warn:s("warn"),error:s("error"),assert:(e,...l)=>{if(t&&t.assert(e,...l),!e){let f=L(l).join(" ");c(`Assertion failed: ${f}`,"error")}},clear:()=>{t&&t.clear(),r.length>0&&(i=r[0],r.length=0),i.innerHTML=""},group:e=>{t&&t.group(e),d(e)},groupCollapsed:e=>{t&&t.groupCollapsed(e),d(e,!0)},groupEnd:()=>{t&&t.groupEnd(),r.length>0&&(i=r.pop())},count:(e="default")=>{t&&t.count(e),e=e.toString(),o[e]=o[e]||0,o[e]++,c(`${e}: ${o[e]}`)},time:(e="default")=>{t&&t.time(e),e=e.toString(),e in a?c(`Timer '${e}' already exists`,"warn"):a[e]=performance.now()},countReset:(e="default")=>{t&&t.countReset(e),e=e.toString(),e in o?delete o[e]:c(`Count for '${e}' does not exist`,"warn")},timeEnd:(e="default")=>{t&&t.timeEnd(e),e=e.toString(),e in a?(c(`${e}: ${performance.now()-a[e]} ms`),delete a[e]):c(`Timer '${e}' does not exist`,"warn")},dir:e=>{t&&t.dir(e);let l=T(e);i.appendChild(l)},table:(e,l)=>{t&&t.table(e,l);let f=h(e),u=S(f,l);u.addEventListener("click",p=>{let m=p.target;if(m.tagName==="TH"){let $=Number(m.dataset.index),w=[...u.querySelectorAll("tr")].slice(1);w.sort((g,x)=>{g=g.children[$],x=x.children[$];let C=g.textContent,y=x.textContent;return g.className==="number"&&(C=Number(C)),x.className==="number"&&(y=Number(y)),g.className==="bigint"&&(C=BigInt(C.slice(0,-1))),x.className==="bigint"&&(y=BigInt(y.slice(0,-1))),C>y?m.dataset.sort==="asc"?-1:1:C<y?m.dataset.sort==="asc"?1:-1:0}),w.forEach(g=>{u.appendChild(g)}),m.dataset.sort=m.dataset.sort==="asc"?"desc":"asc"}}),i.appendChild(u)}}};JCode.getCustomCode=async()=>{let n;do{if(n=document.querySelector("body>script:last-of-type"),n&&/^text\/.*/.test(n.type))return n.textContent;await new Promise(t=>setTimeout(t,50))}while(1)};})();
