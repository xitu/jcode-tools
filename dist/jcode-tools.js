(()=>{typeof BigInt=="function"&&!BigInt.prototype.toJSON&&(BigInt.prototype.toJSON=function(){return`${this}n`});window.JCode=window.JCode||{};function b(e,n,o,c){e[n]=e[n]||[],e[n][c]=o}function y(e){let n={};if(e){let o=0,c=Object.keys(e).every(s=>s===Number(s).toString());for(let[s,t]of Object.entries(e))if(typeof t!="function"){if(b(n,"(index)",c?Number(s):s,o),typeof t!="object"||t instanceof RegExp)b(n,"Value",t,o);else for(let[l,r]of Object.entries(t))b(n,l,r,o);o++}return n}return e}function h(e,n){let o=e["(index)"].length;if(o){let c=document.createElement("table"),s=document.createElement("thead");c.appendChild(s),c.className="jcode-logger__table";let t=Object.keys(e);n&&(t=t.filter(a=>a==="(index)"||a==="Value"||n.includes(a)));let l=document.createElement("tr");l.innerHTML=t.map((a,u)=>`<th data-index="${u}">${a}</th>`).join(""),s.appendChild(l);let r=document.createElement("tbody");c.appendChild(r);for(let a=0;a<o;a++){let u=document.createElement("tr");r.appendChild(u);for(let f=0;f<t.length;f++){let p=t[f],d=document.createElement("td");if(a in e[p]){let i=e[p][a];typeof i=="string"&&p!=="(index)"&&(i=`'${i}'`),Array.isArray(i)?i.length>3&&(d.innerHTML=`${i.slice(0,3)}... (total: ${i.length})`):typeof i=="bigint"?d.innerHTML=`${i}n`:typeof i=="symbol"?d.innerHTML=i.toString():d.innerHTML=i,d.className=Object.prototype.toString.call(i).slice(8,-1).toLowerCase()}u.appendChild(d)}}return c}}function C(e){let n=e[0],o=[],c=/%[cdfios]/,s=0;for(let t=1;t<e.length;t++){let l=e[t];if(c.test(n))n=n.replace(c,r=>{if(r==="%c"){let a=`${s?"</span>":""}<span style="${l}">`;return s++,a}if(r==="%d"||r==="%i")return parseInt(l,10);if(r==="%f")return parseFloat(l);if(r==="%s")return l.toString();if(r==="%o")return JSON.stringify(l)});else{o.push(...e.slice(t));break}}return o=[n,...o],s&&o.push("</span>"),o}var N={log:console.log,warn:console.warn,error:console.error,table:console.table};JCode.logger=(e,n=N)=>{let o=document.createElement("div");o.className="jcode-logger",e.append(o);let c=s=>(...t)=>{n&&n[s](...t),t=C(t);let l=t.join(" "),r=document.createElement("pre");r.className=`jcode-logger__${s}`,r.innerHTML=l,o.appendChild(r)};return{log:c("log"),warn:c("warn"),error:c("error"),table:(s,t)=>{n.table(s,t);let l=y(s),r=h(l,t);r.addEventListener("click",a=>{let u=a.target;if(u.tagName==="TH"){let f=Number(u.dataset.index),p=[...r.querySelectorAll("tr")].slice(1);p.sort((d,i)=>{d=d.children[f],i=i.children[f];let m=d.textContent,g=i.textContent;return d.className==="number"&&(m=Number(m)),i.className==="number"&&(g=Number(g)),d.className==="bigint"&&(m=BigInt(m.slice(0,-1))),i.className==="bigint"&&(g=BigInt(g.slice(0,-1))),m>g?u.dataset.sort==="asc"?-1:1:m<g?u.dataset.sort==="asc"?1:-1:0}),p.forEach(d=>{r.appendChild(d)}),u.dataset.sort=u.dataset.sort==="asc"?"desc":"asc"}}),o.appendChild(r)}}};JCode.getCustomCode=async()=>{let e;do{if(e=document.querySelector("body>script:last-of-type"),e&&/^text\/.*/.test(e.type))return e.textContent;await new Promise(n=>setTimeout(n,50))}while(1)};})();
